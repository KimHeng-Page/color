<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta author="kimheng">
  <title>Color Flipper</title>
  <!-- Load Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Use Inter font from Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      transition: background-color 0.3s ease;
    }
  </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white p-4 space-y-8">

  <!-- Random Color Flipper Section -->
  <div class="text-center p-8 bg-gray-800 rounded-xl shadow-lg w-full max-w-sm">
    <h1 class="text-3xl font-bold mb-4">
      Random Background Color:
      <span id="random-color-code" class="block mt-2 px-4 py-2 bg-gray-700 text-teal-400 rounded-full font-mono text-lg transition-all duration-300">#1f2937</span>
    </h1>
    <button id="random-color-button" class="mt-4 px-6 py-3 bg-teal-500 hover:bg-teal-600 active:bg-teal-700 text-white font-bold rounded-full shadow-lg transform transition-transform duration-200 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-teal-500 focus:ring-opacity-50">
      Flip to a Random Color
    </button>
  </div>

  <!-- Custom Color Input Section -->
  <div class="text-center p-8 bg-gray-800 rounded-xl shadow-lg w-full max-w-sm">
    <h1 class="text-3xl font-bold mb-4">
      Input a Custom Color
    </h1>
    <div class="flex flex-col items-center space-y-4">
      <input type="text" id="custom-color-input" placeholder="e.g., #ff5733 or hotpink" class="w-full px-4 py-3 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-teal-500">
      <button id="apply-color-button" class="px-6 py-3 w-full bg-indigo-500 hover:bg-indigo-600 active:bg-indigo-700 text-white font-bold rounded-full shadow-lg transform transition-transform duration-200 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-indigo-500 focus:ring-opacity-50">
        Apply Color
      </button>
    </div>
  </div>

  <!-- Message Box -->
  <div id="message-box" class="fixed bottom-4 p-4 rounded-lg shadow-xl text-center font-bold hidden transition-opacity duration-300"></div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const randomColorButton = document.getElementById('random-color-button');
      const randomColorCodeSpan = document.getElementById('random-color-code');
      const customColorInput = document.getElementById('custom-color-input');
      const applyColorButton = document.getElementById('apply-color-button');
      const messageBox = document.getElementById('message-box');

      // A list of fun colors to flip through
      const colors = [
        '#ff6347', '#4682b4', '#3cb371', '#ffc0cb', '#da70d6', 'lightcoral',
        'steelblue', 'mediumseagreen', 'gold', 'rebeccapurple', '#20b2aa',
        '#8a2be2', '#ff4500', '#00ff7f', '#adff2f', 'dodgerblue', 'tomato',
        '#d8bfd8', 'palegreen', 'lightskyblue'
      ];

      // Function to show a message to the user
      function showMessage(message, type = 'success') {
        messageBox.textContent = message;
        messageBox.classList.remove('hidden', 'bg-red-500', 'bg-green-500');
        if (type === 'error') {
          messageBox.classList.add('bg-red-500', 'text-white');
        } else {
          messageBox.classList.add('bg-green-500', 'text-white');
        }
        messageBox.classList.add('opacity-100');

        // Hide the message after 3 seconds
        setTimeout(() => {
          messageBox.classList.remove('opacity-100');
          messageBox.classList.add('opacity-0');
          setTimeout(() => {
            messageBox.classList.classList.add('hidden');
          }, 300);
        }, 3000);
      }

      // Random color button event listener
      randomColorButton.addEventListener('click', () => {
        const randomIndex = Math.floor(Math.random() * colors.length);
        const newColor = colors[randomIndex];
        document.body.style.backgroundColor = newColor;
        randomColorCodeSpan.textContent = newColor;
        showMessage('Color changed successfully!', 'success');
      });

      // Custom color button event listener
      applyColorButton.addEventListener('click', () => {
        const customColor = customColorInput.value.trim();
        if (customColor === '') {
          showMessage('Please enter a color.', 'error');
          return;
        }

        try {
          // Temporarily create a dummy element to test the color validity
          const s = new Option().style;
          s.color = customColor;
          const isColorValid = s.color !== '';

          if (isColorValid) {
            document.body.style.backgroundColor = customColor;
            randomColorCodeSpan.textContent = customColor;
            showMessage('Custom color applied!', 'success');
          } else {
            showMessage('That is not a valid color. Please try a different one.', 'error');
          }
        } catch (e) {
          showMessage('An error occurred. Please check the color format.', 'error');
        }
      });
    });
  </script>
</body>
</html>
